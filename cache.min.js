"use strict";var iqwerty=iqwerty||{};iqwerty.cache=function(){function e(e){this.prev=null,this.next=null,this.value=e}function t(){this.head=null,this.tail=null;var e=this;return{enqueue:function(t){null===e.head?(e.head=t,e.tail=t):(t.prev=e.tail,e.tail.next=t,e.tail=t)},dequeue:function(){if(e.head){var t=e.head;return e.head.next.prev=null,e.head=e.head.next,t.next=null,t}return null},promote:function(t){e.tail!==t&&(e.head===t?(e.head.next.prev=null,e.head=e.head.next,t.next=null,t.prev=e.tail,e.tail.next=t,e.tail=t):(t.prev.next=t.next,t.next.prev=t.prev,t.prev=e.tail,t.next=null,e.tail.next=t,e.tail=t))},"export":function(){for(var t=e.head,n=[];t;)n.push(t.value),t=t.next;return n}}}function n(e,t){return r(e,t)}function r(r,u){var a={},l=n.prototype.__cache__;return a.add=function(n,a){if(l.hasOwnProperty(r)||(l[r]={lru:new t,map:{}}),l[r].map.hasOwnProperty(n)){var i=l[r].map[n];i.value.value=a,l[r].lru.promote(i)}else{if(Object.keys(l[r].map).length+1>u){var p=l[r].lru.dequeue();delete l[r].map[p.value.key]}var o=new e({key:n,value:a});l[r].lru.enqueue(o),l[r].map[n]=o}},a.get=function(e){var t=l[r];if(t.map.hasOwnProperty(e))return t.lru.promote(t.map[e]),t.map[e].value.value},a.valueExists=function(e){return Object.keys(l[r].map).some(function(t){return l[r].map[t].value.value===e})},a.purge=function(){delete l[r]},a["export"]=function(){return l.hasOwnProperty(r)?l[r].lru["export"]():void 0},a}return n.prototype.__cache__={},{Builder:n}}();